<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>exam</title>

    <style>
        .main{
            background-color: rgb(240, 244, 247);
            border-left: 5px solid blue;
            border-radius: 6px;
            padding: 20px;
        }
        .header{
            color: blue;
            margin: 26px 0;
        }
        button{
            background-color: blue;
            color: white;
            border-radius: 6px;
            padding: 8px 18px;
            margin-right: 6px;
            cursor: pointer;
        }
        #output{
            background-color: rgb(226, 226, 226);
            margin-top: 18px;
            padding: 15px;
            display: none;
        }
        .div{
            margin: 5px 0px;
        }
        p{
            margin-top: 0;
            margin-bottom: 15px;
        }
    </style>


</head>
<body>
    <div class="main">
        <h2 class="header">
            🔧평가 문제
        </h2>

        <button onclick="paycheck()">1. 급여 리포트 출력(30점)</button>
        <button onclick="phoneList()">2. 연락처 리스트 출력 (30점)</button>
        <button onclick="selection()">3. 조건부 데이터 처리 (40점)</button>

        <div id="output"></div>
    </div>   


    <script>
        const employees = [
            {
                id: 1,
                name: "이순신",
                department: "개발팀",
                position: "시니어 개발자",
                salary: 55000000,
                email: "lee.sh@choongang.com",
                phone: "010-1234-5678",
                hireDate: "2020-03-15"
            },
            {
                id: 2,
                name: "신사임당",
                department: "마케팅팀",
                position: "마케팅 매니저",
                salary: 48000000,
                email: "shin.sed@choongang.com",
                phone: "010-2345-6789",
                hireDate: "2019-07-22"
            },
            {
                id: 3,
                name: "이방원",
                department: "개발팀",
                position: "주니어 개발자",
                salary: 38000000,
                email: "lee.bj@choongang.com",
                phone: "010-3456-7890",
                hireDate: "2022-01-10"
            },
            {
                id: 4,
                name: "류성룡",
                department: "인사팀",
                position: "인사 담당자",
                salary: 42000000,
                email: "ryu.sl@choongang.com",
                phone: "010-4567-8901",
                hireDate: "2021-05-03"
            },
            {
                id: 5,
                name: "손흥민",
                department: "영업팀",
                position: "영업 대리",
                salary: 40000000,
                email: "shon.hm@choongang.com",
                phone: "010-5678-9012",
                hireDate: "2021-11-18"
            }                                               
        ];


        function paycheck(){
            let result = `<p>===직원 급여 리포트===</p>`;
            let total = 0;

            employees.forEach((employee, index)=>{
                result += `<div>${index + 1} ${employee.name}: ${(employee.salary).toLocaleString()}원</div>`
                total += employee.salary;
            })
            
            result += `<p></p><div class ="div">💰총급여: ${(total).toLocaleString()}원</div>`;
            result += `<div class ="div">📊평균 급여: ${parseInt((total / employees.length)).toLocaleString()}원</div>`;
            result += `<div class ="div">👤총 직원 수: ${employees.length}명</div>`

            document.getElementById('output').innerHTML = result;

            document.getElementById('output').style.display = 'block';
        }   


        function phoneList(){
            let result = `=== 직원 연락처 리스트 ===`;

            employees.forEach((employee, index)=>{
                result += `<p></p><div class ="div">${index + 1}. ${employee.name}</div>`;
                result += `<div class ="div">📞${employee.phone}</div>`;
                result += `<div class ="div">📧${employee.email}</div>`;
                if(employee.department === '개발팀'){
                    result += `<div class ="div">🖥️${employee.department}</div>`;
                }
            })

            document.getElementById('output').innerHTML = result;
            document.getElementById('output').style.display = 'block';
        }

        function selection(){
            let date = new Date();
            let currentYear = date.getFullYear();
            let result = `<div>=== 조건부 데이터 처리 ===</div>`;
            result += `<p></p><div>🎯다양한 조건으로 직원 데이터 처리하기</div>`;
            result += `<p></p><div>💰고급여 직원(500만원 이상): </div>`;
            

            employees.forEach((employee, index)=>{
                if(employee.salary >= 5000000){ 
                    result += `<div>✅${employee.name}: ${(employee.salary).toLocaleString()}원</div>`;
                }
            })


            result += `<p></p>🖥️개발팀 베태랑 (입사 2년 이상): `;
            employees.forEach((employee, index)=>{
                let yearHired = employee.hireDate.slice(0,4);
                if(currentYear - yearHired >= 2 && employee.department === '개발팀'){
                    result += `<div>✅${employee.name}: ${currentYear - yearHired}년차<div>`;
                }
            })

            document.getElementById('output').innerHTML = result.replace(/ /g, "$&&nbsp");
            document.getElementById('output').style.display = 'block';
        }





    </script>
</body>
</html>